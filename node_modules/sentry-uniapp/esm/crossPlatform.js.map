{"version":3,"file":"crossPlatform.js","sourceRoot":"","sources":["../src/crossPlatform.ts"],"names":[],"mappings":"AAqCA,IAAI,UAAU,GAAQ;IACpB,qCAAqC;IACrC,OAAO,EAAE;IACT,CAAC;IACD,qCAAqC;IACrC,WAAW,EAAE;IACb,CAAC;IACD,qCAAqC;IACrC,iBAAiB,EAAE;IACnB,CAAC;IACD,qCAAqC;IACrC,aAAa,EAAE;IACf,CAAC;CACF,CAAC;AAEF;;GAEG;AACH,IAAM,MAAM,GAAG;IACb,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3B,UAAU,GAAG,GAAG,CAAC;KAClB;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,UAAU,GAAG,EAAE,CAAC;KACjB;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,UAAU,GAAG,EAAE,CAAC;KACjB;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,UAAU,GAAG,EAAE,CAAC;KACjB;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,UAAU,GAAG,EAAE,CAAC;KACjB;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,UAAU,GAAG,EAAE,CAAC;KACjB;SAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QACnC,UAAU,GAAG,IAAI,CAAC;KACnB;SAAM;QACL,sCAAsC;QACtC,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;KAC9D;IAED,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAEF;;GAEG;AACH,IAAM,UAAU,GAAG;IACjB,IAAI,cAAc,GAAY,SAAS,CAAC;IAExC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3B,cAAc,GAAG,QAAQ,CAAC;KAC3B;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,QAAQ,CAAC;KAC3B;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,QAAQ,CAAC;KAC3B;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,WAAW,CAAC;KAC9B;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,UAAU,CAAC;KAC7B;SAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,IAAI,CAAC;KACvB;SAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QACnC,cAAc,GAAG,MAAM,CAAC;KACzB;IAED,OAAO,cAAc,CAAC;AACxB,CAAC,CAAC;AAEF,IAAM,GAAG,GAAG,MAAM,EAAE,CAAC;AACrB,IAAM,OAAO,GAAG,UAAU,EAAE,CAAC;AAE7B,OAAO,EAAC,GAAG,EAAE,OAAO,EAAC,CAAC","sourcesContent":["declare const uni: any;  // uniapp\ndeclare const wx: any;   // 微信小程序、微信小游戏\ndeclare const my: any;   // 支付宝小程序\ndeclare const tt: any;   // 字节跳动小程序\ndeclare const dd: any;   // 钉钉小程序\ndeclare const qq: any;   // QQ 小程序、QQ 小游戏\ndeclare const swan: any; // 百度小程序\n\n/**\n * 小程序平台 SDK 接口\n */\ninterface SDK {\n  request: Function;\n  httpRequest?: Function; // 针对钉钉小程序\n  getSystemInfo: Function;\n  getSystemInfoSync: Function;\n  onError?: Function;\n  onUnhandledRejection?: Function;\n  onPageNotFound?: Function;\n  onMemoryWarning?: Function;\n  getLaunchOptionsSync?: Function;\n}\n\n/**\n * 小程序平台 接口\n */\ntype AppName =\n  | \"uniapp\"\n  | \"wechat\"\n  | \"alipay\"\n  | \"bytedance\"\n  | \"dingtalk\"\n  | \"qq\"\n  | \"swan\"\n  | \"quickapp\"\n  | \"unknown\";\n\nlet currentSdk: SDK = {\n  // tslint:disable-next-line: no-empty\n  request: () => {\n  },\n  // tslint:disable-next-line: no-empty\n  httpRequest: () => {\n  },\n  // tslint:disable-next-line: no-empty\n  getSystemInfoSync: () => {\n  },\n  // tslint:disable-next-line: no-empty\n  getSystemInfo: () => {\n  },\n};\n\n/**\n * 获取跨平台的 SDK\n */\nconst getSDK = () => {\n  if (typeof uni === \"object\") {\n    currentSdk = uni;\n  } else if (typeof wx === \"object\") {\n    currentSdk = wx;\n  } else if (typeof my === \"object\") {\n    currentSdk = my;\n  } else if (typeof tt === \"object\") {\n    currentSdk = tt;\n  } else if (typeof dd === \"object\") {\n    currentSdk = dd;\n  } else if (typeof qq === \"object\") {\n    currentSdk = qq;\n  } else if (typeof swan === \"object\") {\n    currentSdk = swan;\n  } else {\n    // tslint:disable-next-line:no-console\n    console.log(\"sentry-uniapp 暂不支持此平台, 快应用请使用 sentry-quickapp\");\n  }\n\n  return currentSdk;\n};\n\n/**\n * 获取平台名称\n */\nconst getAppName = () => {\n  let currentAppName: AppName = \"unknown\";\n\n  if (typeof uni === \"object\") {\n    currentAppName = \"uniapp\";\n  } else if (typeof wx === \"object\") {\n    currentAppName = \"wechat\";\n  } else if (typeof my === \"object\") {\n    currentAppName = \"alipay\";\n  } else if (typeof tt === \"object\") {\n    currentAppName = \"bytedance\";\n  } else if (typeof dd === \"object\") {\n    currentAppName = \"dingtalk\";\n  } else if (typeof qq === \"object\") {\n    currentAppName = \"qq\";\n  } else if (typeof swan === \"object\") {\n    currentAppName = \"swan\";\n  }\n\n  return currentAppName;\n};\n\nconst sdk = getSDK();\nconst appName = getAppName();\n\nexport {sdk, appName};\n"]}